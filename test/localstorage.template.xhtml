<?xml version="1.0"?>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:framexs="urn:framexs" lang="ja" xmlns:v-on="vuejs">
<head>
<script>
<![CDATA[      
window.addEventListener("load",e=>{
const storagename = document.getElementById("tablename").textContent;
let storage = localStorage.getItem(storagename);
let tmp;
if(storage == null) {
 tmp = {};
} else {
 tmp = storage;
}
const data = {"1111":{test:2,test2:"ddd"}};
const app = new Vue({
el:"#app",
data:{
 data:data,
 objname:null,
 objnames:Object.keys(data),
 propname:null,
 value:null,
 newobjname:null,
 table:Object.entries(data)
},
watch:{
 objname:function(){
  this.value = this.data[this.objname][this.propname];
 },
 propname:function(){
  this.value = this.data[this.objname][this.propname];
 },
 value:function(){
  this.data[this.objname][this.propname] = this.value;
  this.table = Object.entries(this.data);
 }
},
methods:{
 del:function(){
  delete this.data[this.objname];
 },
 create:function(){
  this.data[this.newobjname] = {};
  this.objnames.push(this.newobjname);
  this.table = Object.entries(this.data);
 },
 save:function(){
  localStorage.setItem(storagename, JSON.stringify(this.data));
 },
 load:function(){
  alert();
 }
},
computed:{
}
});
});]]>
</script>
<meta charset="UTF-8"/>
<meta framexs:fix="" name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
<title> - 八百幡（やおはた）―日々雑感のまとめ</title>
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<framexs:script/>
</head>
<body>
<article id="app">
<fieldset>
<label>オブジェクト名
<select v-model="objname">
<option v-for="n in objnames">{{n}}</option>
</select>
<button v-on:click="del">削除</button>
</label><br/>
<label>プロパティ―名
<select v-model="propname">
<option framexs:id-d="propnames"></option>
</select>
</label><br/>
<label>値                 
<textarea v-model="value" cols="40"></textarea>
</label><br/>
<button v-on:click="save">保存</button>
<input type="file" v-on:change="load"/>
</fieldset>
<fieldset>
<input type="text" v-model="newobjname"></input>
<button v-on:click="create">新規作製</button>
</fieldset>
<div framexs:id-sd="view"></div>
</article>
</body>
</html>